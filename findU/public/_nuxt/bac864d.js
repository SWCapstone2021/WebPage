(window.webpackJsonp=window.webpackJsonp||[]).push([[41,13],{448:function(e,t,r){"use strict";r.r(t);r(18);var n={name:"BaseSection",props:{space:{type:[Number,String],default:96}},computed:{style:function(){var e=this.$vuetify.breakpoint.mdAndUp?this.space:this.space/2;return{padding:"".concat(e,"px 0")}}}},o=r(43),c=r(50),l=r.n(c),d=r(39),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-sheet",e._g(e._b({style:e.style,attrs:{tile:""}},"v-sheet",e.$attrs,!1),e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports;l()(component,{VSheet:d.a})},592:function(e,t,r){"use strict";r.r(t);var n={name:"Purchase",components:{BaseSection:r(448).default},layout:"DashboardLayout",data:function(){return{isJQueryLoaded:!0,isIamPortLoaded:!1,isEnd:!1,isSuccess:!1}},head:function(){var e=this;return{title:"Payment Page - My awesome project",script:[{hid:"import",src:"https://cdn.iamport.kr/js/iamport.payment-1.1.8.js",defer:!0,callback:function(){e.isIamPortLoaded=!0}}]}},computed:{user:function(){return this.$store.state.user},userID:function(){return this.user?this.user.userId:"0"},userName:function(){return this.user?this.user.displayName:"APC"},userEmail:function(){return this.user?this.user.email:"example@abcd.email"},isModuleLoaded:function(){return this.isIamPortLoaded&&this.isJQueryLoaded&&(IMP.init("imp92001067"),this.loadInicis()),!1}},methods:{loadInicis:function(){var e=this,t=this.getNewCustomerUID();IMP.request_pay({pay_method:"card",merchant_uid:"merchant_"+(new Date).getTime(),name:"최초인증결제",amount:0,customer_uid:t,buyer_email:e.userEmail,buyer_name:e.userName,buyer_tel:"02-1234-1234"},(function(r){r.success,e.isEnd=!0,e.isSuccess=!0,e.updateMembership(t)}))},updateMembership:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$fire.functions.httpsCallable("subscribe")({newUID:e})},getDate:function(e){var t=new Date,dd=t.getDate(),r=t.getMonth()+e+1;return t.getFullYear()+"-"+r+"-"+dd},getNewCustomerUID:function(){return this.$store.state.user.email+"_"+(new Date).getTime()}}},o=r(43),c=r(50),l=r.n(c),d=r(570),m=r(447),h=r(436),f=r(160),v=r(571),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-section",{},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12",md:"8"}},[r("v-container",[r("p",{staticClass:"text-h5 font-weight-bold text-center"},[e._v("Purchase Page")]),e._v(" "),r("v-divider",{staticClass:"my-5"}),e._v(" "),e.isEnd?e._e():r("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}}),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.isEnd&&e.isSuccess,expression:"isEnd && isSuccess"}],staticClass:"text-center"},[e._v("\n          Subscription procedure finish successfully. Now go and check your\n          status\n          "),r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:"/profile/billing"}},[e._v("billing")])],1),e._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:e.isModuleLoaded,expression:"isModuleLoaded"}]}),e._v(" "),e.isEnd&&!e.isSuccess?r("p",{staticClass:"text-center"},[e._v("\n          Subscription procedure failed. please retry.\n        ")]):e._e()],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;l()(component,{BaseSection:r(448).default}),l()(component,{VCol:d.a,VContainer:m.a,VDivider:h.a,VProgressLinear:f.a,VRow:v.a})}}]);